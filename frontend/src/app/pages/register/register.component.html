<div class="register-container">
  <div class="register-background-shapes"></div>
  
  <h2>Crear Cuenta</h2>
  
  <form [formGroup]="registerForm" (ngSubmit)="register()">
    <div class="form-row">
      <div class="form-group">
        <label for="username">
          <span class="icon">👤</span> Usuario
        </label>
        <input 
          id="username" 
          formControlName="username" 
          required
          placeholder="Nombre de usuario"
          autocomplete="username"
        />
        <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched" class="error">
          El usuario es obligatorio.
        </div>
      </div>
      
      <div class="form-group">
        <label for="nombre">
          <span class="icon">📝</span> Nombre completo
        </label>
        <input 
          id="nombre" 
          formControlName="nombre" 
          required
          placeholder="Tu nombre completo"
          autocomplete="name"
        />
        <div *ngIf="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched" class="error">
          El nombre es obligatorio.
        </div>
      </div>
    </div>
    
    <div class="form-group">
      <label for="email">
        <span class="icon">✉️</span> Correo electrónico
      </label>
      <input 
        id="email" 
        formControlName="email" 
        required
        placeholder="correo@ejemplo.com"
        autocomplete="email"
        type="email"
      />
      <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="error">
        Ingresa un correo válido.
      </div>
    </div>
      <div class="form-group password-group">
      <label for="password">
        <span class="icon">🔒</span> Contraseña
      </label>
      <div class="password-input-container">
        <input 
          id="password" 
          [type]="mostrarPassword ? 'text' : 'password'"
          formControlName="password" 
          required 
          placeholder="Crea una contraseña segura"
          autocomplete="new-password"
        />
        <button type="button" class="toggle-password" (click)="togglePasswordVisibility()" tabindex="-1">
          <span class="icon">{{ mostrarPassword ? '👁️' : '👁️‍🗨️' }}</span>
        </button>
      </div>
      <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="error">
        La contraseña es obligatoria y debe tener al menos 6 caracteres.
      </div>
    </div>
    
    <div class="form-info">
      <p>Al registrarte, aceptas los términos y condiciones de uso.</p>
    </div>
    
    <button type="submit" [disabled]="registerForm.invalid || cargando">
      <span *ngIf="cargando" class="spinner"></span>
      <span *ngIf="!cargando" class="icon">✨</span>
      Crear cuenta
    </button>
    
    <div class="error" *ngIf="error">
      <span class="icon">⚠️</span> {{ error }}
    </div>
    
    <div class="success" *ngIf="success">
      <span class="icon">✅</span> {{ success }}
    </div>
  </form>
  
  <p class="login-link">
    ¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión</a>
  </p>
</div>